function robot = create_serpenoid(parent)

%Basic object
object_primative = struct('parent',parent,...
	'type',[],...
    'local_geom',struct('vertices',[],'scaling',[],'sidelengths',[],'radius',[],'corner_rad',[]),...
    'ref_pos', struct('now',[],...
        'last',[]...
        ),...
    'geom',struct('vertices',[]...
        ,'line_eq',struct('matrix',[])...
        ,'segments',[]...
        ),...
    'graphics',struct('handle',[],'fill',[],'edge',[])...
    );



%Get a serpenoid body
body_local = fatbackbone_from_curvature_bases({@serpenoid_1;@serpenoid_2},[0;0],6,.2);

%%%
%build the robot

%%
%Make the polygons for the links
robot.links = object_primative;

%Size of links
link_scale = 1;

for i = 1:size(robot.links,1)
	robot.links(i).type = 'polygon';
	robot.links(i).local_geom.vertices =  link_scale * body_local;
	robot.links(i).graphics.fill = {'FaceColor','w'};
	robot.links(i).graphics.edge = {'EdgeColor','k','LineWidth',1};
end



%make the center-dot
robot.center = line('XData',[],'YData',[],'Color','k','LineStyle','none','Marker','o','MarkerSize',10,'MarkerFaceColor','k');

%make the orientation line
robot.orientation = line('XData',[],'YData',[],'Color',[110 110 118]/255,'LineStyle','-','Marker','none','LineWidth',2);